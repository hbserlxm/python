#序列化

## 为什么要序列化
程序运行的时候，所有的变量都是在内存中的，一旦程序运行结束，那么内存中的内容就会被操作系统进行回收，比如说我们定义一个字典
```python
d = dict(name='Bob',age=20,score=88)
```
我们可以随时的修改，比如可以修改name，但是一旦程序结束，如果我们没有把name存储到磁盘上，那么，下一次重新运行程序的时候，变量又会被初始化为Bob。
把内存中的变量存储或者传输到的过程叫做序列化，在python中叫做pickling，在其他语言中，也可以被称之为serialization，marshalling，flattening等等，都是一个意思。
序列化后就可以把内容写入到磁盘中，或者通过网络传输到别的机器上。
相反，把序列化的对象重新读取到内存中的行为叫做反序列化。叫做unpicking。

## json的语法
参考的[w3c](http://www.w3school.com.cn/json/json_syntax.asp)文章

* json是由一组组键值对组成的，左边是键，左边用双引号括起来。
* 花括号是字典
* 方括号是数组
* 数据之间用逗号分隔开来

json可以输入的值的类型：
* 数字（整数或者浮点数）
* 字符串（用双引号括起来）
* 逻辑值（true或者false）
* 数组（用方括号括起来）
* 对象（在花括号中）
* null

---
如果我们要在不同的语言中传递对象，那么就必须把对象序列化为标准的格式，比如xml，但是比较好的是序列化为json，因为json表示的就是一个字符串，可以被所有的语言所读取，也可以方便的存储到磁盘中或者通过网络传输，json不仅是标准格式，而且比xml更快，而且可以在web中读取，十分的方便。
json表示的对象就是javascript语言的对象，json和python内置的对象对应是：
|json类型|python类型|
|---|---|
|{}|dict|
|[]|list|
|"string"|字符串|
|1234.56|整数浮点数|
|true/false|True/False|
|null|None|

dumps()返回的是一个str，内容就是标准的JSON，类似的dump()可以直接把JSON写入一个file-like object。
```python
import json
d = dict(name='Bob',age=20,score=88)
json.dumps(d)
'{"name": "Bob", "age": 20, "score": 88}'
```

如果我们要反序列化，将JSON变为Python对象，我们可以用loads()或者load()方法，前者可以把JSON字符串反序列化，后者可以从file-like object中读取字符串并反序列化：
```python
json_str = '{"name":"Bob","age":20,"score":88}'
json.loads(json_str)
{'name': 'Bob', 'age': 20, 'score': 88}
```
由于JSON标准规定JSON的编码是UTF-8，所以我们总是能正确的在python的str与JSON的字符串之间转换。

















通常class的实例都有一个__dict__属性，，用来存储实例变量，也有少数例外，比如定义了__slots__的class。
